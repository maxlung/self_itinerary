---
interface Props {
  title: string;
  date: string;
  cover: string;
  url: string;
}

const { title, date, cover, url } = Astro.props;
const baseUrl = import.meta.env.BASE_URL || '/self_itinerary';
// 正确处理基础URL和路径的拼接，避免重复斜杠
const formattedBaseUrl = baseUrl.endsWith('/') ? baseUrl : `${baseUrl}/`;
const formattedPath = url.startsWith('/') ? url.slice(1) : url;
const fullUrl = `${formattedBaseUrl}${formattedPath}`;
---

<a href={fullUrl} class="block no-underline">
  <div class="day-card card h-full transition-all hover:translate-y-[-4px]">
    <div class="card-image h-48 overflow-hidden rounded-t">
      <img 
        src={cover} 
        alt={title} 
        class="w-full h-full object-cover transition-transform hover:scale-105"
      />
    </div>
    <div class="card-content p-4">
      <h3 class="text-xl font-bold mb-2 text-ink">{title}</h3>
      <p class="text-ink-light">{date}</p>
    </div>
  </div>
</a> 